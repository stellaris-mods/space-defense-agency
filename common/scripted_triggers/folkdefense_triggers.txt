
sda_valid_spaceport_module_planet = {
	# --- Snip this into a scripted trigger for ease
	NOT = { has_planet_flag = "ass_target" }
	has_spaceport = yes
	has_spaceport_construction = no
	has_free_spaceport_module_slot = yes
	is_occupied_flag = no
	has_ground_combat = no
	controller = { is_same_value = ROOT.owner }
	# ---
}


# Fortress
# ROOT is the planet, scope is country
fd_canbuild_level_3 = {
	exists = event_target:folksda_oldplatform
	has_technology = "tech_space_defense_station_3"
	fd_atleast_three_offices = yes
	ROOT = {
		check_variable = {
			which = SDAStationAge
			value > 71
		}
	}
}

# Defense Station
# ROOT is the planet, scope is country
fd_canbuild_level_2 = {
	exists = event_target:folksda_oldplatform
	has_technology = "tech_space_defense_station_2"
	fd_atleast_two_offices = yes
	ROOT = {
		check_variable = {
			which = SDAStationAge
			value > 35
		}
	}
}

fd_canbuild_level_1 = {
	fd_atleast_one_office = yes
}


# Country scope
fd_atleast_one_office = {
	check_variable = {
		which = SDAPlanetaryOfficeCount
		value > 0
	}
}
# Country scope
fd_atleast_two_offices = {
	check_variable = {
		which = SDAPlanetaryOfficeCount
		value > 1
	}
}
# Country scope
fd_atleast_three_offices = {
	check_variable = {
		which = SDAPlanetaryOfficeCount
		value > 2
	}
}
# Country scope
fd_atleast_four_offices = {
	check_variable = {
		which = SDAPlanetaryOfficeCount
		value > 3
	}
}

# Battle Fortress
# ROOT is the planet, scope is country
fd_canbuild_level_4 = {
	has_global_flag = "has_nsc_active"
	has_technology = "tech_battle_fortress_1"
	fd_atleast_four_offices = yes
	exists = event_target:folksda_oldplatform
	ROOT = {
		check_variable = {
			which = SDAStationAge
			value > 107
		}
	}
}

sda_build_tile_perfect = {
	has_blocker = no
	has_building = no
	has_building_construction = no
	has_any_resource = no
}

sda_build_tile_subpar = {
	has_blocker = no
	has_building = no
	has_building_construction = no
}



###############################################################################
# NSC Fake Triggers
# They are not fake until the next NSC release
#

nsc_is_battle_fortress = { is_ship_size = military_station_xlarge }
# nsc_is_headquarters = { is_ship_size = Headquarters }
# nsc_is_drydock = { is_ship_size = Drydock }
# nsc_is_power_station = { is_ship_size = PowerStation }
# nsc_is_mining_base = { is_ship_size = MiningBase }
# nsc_is_sensor_station = { is_ship_size = SensorStation }

